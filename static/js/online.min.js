(function(){function e(){I=document.getElementById("playersTableRoot"),h=document.getElementById("playersTableBody"),f=document.getElementById("empty"),L=null!=h?Array.from(h.getElementsByClassName("player-details")):[]}function t(e,t=!0){t&&v.forEach((e=>saveData(e,e.value))),t&&saveData(u,u.selectedIndex);const n=c.value.customSplitFilter(","),s=m.value.customSplitFilter(","),r=d.value.customSplitFilter(","),i=o.value.customSplitFilter(","),y=u.value;L.forEach((e=>{const t=e.getElementsByClassName("player-name")[0].textContent.toLowerCase(),l=parseInt(e.getElementsByClassName("player-lvl")[0].textContent),a=parseInt(e.getElementsByClassName("player-ilvl")[0].textContent),c=e.getElementsByClassName("player-guild")[0].textContent.trim().toLowerCase(),m=e.getElementsByClassName("player-class")[0].dataset.playerClass,d=n.customSomeFilter((e=>t.includes(e)))&&s.customSomeFilter((e=>checkLevel(l,e)))&&r.customSomeFilter((e=>checkLevel(a,e)))&&i.customSomeFilter((e=>"-"===e&&""===c||c.includes(e)))&&("default"===y||y==m);e.style.display=d?"":"none"})),l(null,t),a()}function l(e,t=!0){t&&saveData(i,i.selectedIndex);const l=i.value;L.sort(((e,t)=>{const a=parseInt(e.getElementsByClassName("player-lvl")[0].textContent),n=parseInt(t.getElementsByClassName("player-lvl")[0].textContent),s=parseInt(e.getElementsByClassName("player-ilvl")[0].dataset.itemLevel),r=parseInt(t.getElementsByClassName("player-ilvl")[0].dataset.itemLevel),c=e.getElementsByClassName("player-name")[0].textContent,m=t.getElementsByClassName("player-name")[0].textContent,d=parseInt(e.getElementsByClassName("player-class")[0].dataset.playerClass),o=parseInt(t.getElementsByClassName("player-class")[0].dataset.playerClass),i=parseInt(e.id),u=parseInt(t.id),y=e.getElementsByClassName("player-guild")[0].textContent.trim(),p=t.getElementsByClassName("player-guild")[0].textContent.trim();switch(l){case"levelDesc":return n-a;case"levelAsc":return a-n;case"itemLevelDesc":return r-s;case"itemLevelAsc":return s-r;case"nameDesc":return m.localeCompare(c);case"nameAsc":return c.localeCompare(m);case"classDesc":return o-d;case"classAsc":return d-o;case"timeDesc":return u-i;case"timeAsc":return i-u;case"guildDesc":return p.localeCompare(y);case"guildAsc":return y.localeCompare(p)}}));let a=1;L.forEach((e=>{"none"!==e.style.display?(e.getElementsByClassName("player-id")[0].textContent=a++,h.appendChild(e)):e.parentElement==h&&h.removeChild(e)}))}function a(){if(0===I.children.length)return;const e=0===h.children.length;I.hidden=e,f.hidden=!e,f.querySelector("#initialEmpty").hidden=e,f.querySelector("#filteredEmpty").hidden=!e}function n(){u.selectedIndex=B,v.forEach((e=>e.value="")),t(null,!0)}function s(){e(),r()}function r(){t(null,!0)}const c=document.getElementById("searchPlayerName"),m=document.getElementById("searchPlayerLevel"),d=document.getElementById("searchPlayerItemLevel"),o=document.getElementById("searchPlayerGuild"),i=document.getElementById("selectPlayerSort"),u=document.getElementById("selectPlayerClass"),y=document.getElementById("clearNavigation"),p=document.getElementById("clearEmptyButton"),E=document.getElementById("content"),v=[c,m,d,o],C=[i,u],g=1,B=0;let I,h,f,L;e(),i.addEventListener("change",l),u.addEventListener("change",t),c.addEventListener("input",t),m.addEventListener("input",t),d.addEventListener("input",t),o.addEventListener("input",t),E.addEventListener("contentUpdated",s),p.addEventListener("click",n),y.addEventListener("click",(function(){i.selectedIndex=g,n()})),v.forEach((e=>e.value=loadData(e)??e.value)),C.forEach((e=>e.selectedIndex=loadData(e)??e.selectedIndex)),r()})();