(function(){function e(){B=document.getElementById("playersTableRoot"),I=document.getElementById("playersTableBody"),h=document.getElementById("empty"),f=null!=I?Array.from(I.getElementsByClassName("player-details")):[]}function t(e,t=!0){t&&E.forEach((e=>saveData(e,e.value))),t&&saveData(i,i.selectedIndex);const n=c.value.customSplitFilter(","),s=m.value.customSplitFilter(","),r=d.value.customSplitFilter(","),o=i.value;f.forEach((e=>{const t=e.getElementsByClassName("player-name")[0].textContent.toLowerCase(),l=parseInt(e.getElementsByClassName("player-lvl")[0].textContent),a=e.getElementsByClassName("player-guild")[0].textContent.trim().toLowerCase(),c=e.getElementsByClassName("player-class")[0].dataset.playerClass,m=n.customSomeFilter((e=>t.includes(e)))&&s.customSomeFilter((e=>checkLevel(l,e)))&&r.customSomeFilter((e=>a.includes(e)))&&("default"===o||o==c);e.style.display=m?"":"none"})),l(null,t),a()}function l(e,t=!0){t&&saveData(o,o.selectedIndex);const l=o.value;f.sort(((e,t)=>{const a=parseInt(e.getElementsByClassName("player-lvl")[0].textContent),n=parseInt(t.getElementsByClassName("player-lvl")[0].textContent),s=parseInt(e.getElementsByClassName("player-itemlvl")[0].textContent),r=parseInt(t.getElementsByClassName("player-itemlvl")[0].textContent),c=e.getElementsByClassName("player-name")[0].textContent,m=t.getElementsByClassName("player-name")[0].textContent,d=parseInt(e.getElementsByClassName("player-class")[0].dataset.playerClass),o=parseInt(t.getElementsByClassName("player-class")[0].dataset.playerClass),i=parseInt(e.id),u=parseInt(t.id),y=e.getElementsByClassName("player-guild")[0].textContent.trim(),p=t.getElementsByClassName("player-guild")[0].textContent.trim();switch(l){case"levelDesc":return n-a;case"levelAsc":return a-n;case"itemLevelDesc":return r-s;case"itemLevelAsc":return s-r;case"nameDesc":return m.localeCompare(c);case"nameAsc":return c.localeCompare(m);case"classDesc":return o-d;case"classAsc":return d-o;case"timeDesc":return u-i;case"timeAsc":return i-u;case"guildDesc":return p.localeCompare(y);case"guildAsc":return y.localeCompare(p)}}));let a=1;f.forEach((e=>{"none"!==e.style.display?(e.getElementsByClassName("player-id")[0].textContent=a++,I.appendChild(e)):e.parentElement==I&&I.removeChild(e)}))}function a(){if(0===B.children.length)return;const e=0===I.children.length;B.hidden=e,h.hidden=!e,h.querySelector("#initialEmpty").hidden=e,h.querySelector("#filteredEmpty").hidden=!e}function n(){E.forEach((e=>e.value="")),t(null,!0)}function s(){e(),r()}function r(){t(null,!0)}const c=document.getElementById("searchPlayerName"),m=document.getElementById("searchPlayerLevel"),d=document.getElementById("searchPlayerGuild"),o=document.getElementById("selectPlayerSort"),i=document.getElementById("selectPlayerClass"),u=document.getElementById("clearNavigation"),y=document.getElementById("clearEmptyButton"),p=document.getElementById("content"),E=[c,m,d],C=[o,i],g=1,v=0;let B,I,h,f;e(),o.addEventListener("change",l),i.addEventListener("change",t),c.addEventListener("input",t),m.addEventListener("input",t),d.addEventListener("input",t),p.addEventListener("contentUpdated",s),y.addEventListener("click",n),u.addEventListener("click",(function(){o.selectedIndex=g,i.selectedIndex=v,n()})),E.forEach((e=>e.value=loadData(e)??e.value)),C.forEach((e=>e.selectedIndex=loadData(e)??e.selectedIndex)),r()})();