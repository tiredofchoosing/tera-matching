(function(){function e(){E=document.getElementById("lfgList"),p=document.getElementById("empty"),y=Array.from(E.getElementsByClassName("lfg-details"))}function t(e,t=!0){t&&f.forEach((e=>saveData(e,e.value)));const a=d.value.customSplitFilter(",");let l=!1;y.forEach((e=>{const t=e.getElementsByClassName("lfg-message")[0].textContent.toLowerCase(),n=a.customSomeFilter((e=>t.includes(e)));e.style.display=n?"":"none",l||=n})),n(!l)}function n(e){0!==E.children.length&&(p.hidden=!e,p.querySelector("#initialEmpty").hidden=e,p.querySelector("#filteredEmpty").hidden=!e)}function a(e,t=!0){t&&saveData(r,r.selectedIndex);const n=r.value;y.sort(((e,t)=>{const a=e.getElementsByClassName("lfg-leader-name")[0].textContent,l=t.getElementsByClassName("lfg-leader-name")[0].textContent,s=parseInt(e.getElementsByClassName("lfg-player-count")[0].textContent.split("/")[0]),c=parseInt(t.getElementsByClassName("lfg-player-count")[0].textContent.split("/")[0]);switch(n){case"nameDesc":return l.localeCompare(a);case"nameAsc":return a.localeCompare(l);case"playersDesc":return c-s;case"playersAsc":return s-c}})),y.forEach((e=>E.appendChild(e)))}function l(){const e=this.dataset.lfgId,t=h.indexOf(e);this.open&&-1===t?h.push(e):this.open||-1===t||h.splice(t,1)}function s(){f.forEach((e=>e.value="")),a(null,!0),t(null,!0)}function c(){e(),o(),y.forEach((e=>e.addEventListener("toggle",l)))}function o(){a(null,!1),t(null,!1),y.forEach((e=>e.open=-1!==h.indexOf(e.dataset.lfgId))),h=h.filter((e=>y.some((t=>t.dataset.lfgId===e))))}const d=document.getElementById("searchLfgMessage"),r=document.getElementById("selectLfgSort"),i=document.getElementById("clearNavigation"),m=document.getElementById("clearEmptyButton"),u=document.getElementById("content"),f=[d],g=0;let E,y,p,h=[];e(),r.addEventListener("change",a),d.addEventListener("input",t),y.forEach((e=>e.addEventListener("toggle",l))),u.addEventListener("contentUpdated",c),m.addEventListener("click",s),i.addEventListener("click",(function(){r.selectedIndex=g,s()})),f.forEach((e=>e.value=loadData(e)??e.value)),r.selectedIndex=loadData(r)??r.selectedIndex,o()})();